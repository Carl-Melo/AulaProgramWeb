<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ONG Nova HistÃ³ria</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  
  <header>
    <nav>
        <span class="logo"> <img src="./imagens/Nobg.png" alt="Logo da ONG Nova HistÃ³ria"></span>
            <ul>
                <li><a href="index.html" class="nav-link">Inicio</a></li>
                <li><a href="cadastro.html" class="nav-link">Cadastro</a></li>
                <li><a href="projetos.html" class="nav-link">Projetos</a></li>
            </ul>
    </nav>
    </header>

     <main class="main-content-form-page">
        <div class="container">
            <form class="floating-form" action="#" method="POST">
                <fieldset>
                    <legend>FaÃ§a seu Cadastro</legend>

                    <div class="form-group">
                        <label for="nome">Nome Completo:</label>
                        <input type="text" id="nome" name="nome_completo" required>
                    </div>

                    <div class="form-group">
                        <label for="tel">Telefone:</label>
                        <input type="tel" id="tel" name="telefone_contato" maxlength="15" required>
                    </div>

                    <div class="form-group">
                        <label for="data">Data de Nascimento:</label>
                        <input type="text" id="data" name="data_nascimento" required>
                    </div>

                    <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="cpf">CPF:</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="cpf" name="cpf" maxlength="14" required>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

                    <div class="form-group">
                        <label for="endereco">EndereÃ§o:</label>
                        <input type="text" id="endereco" name="endereco_contato" required>
                    </div> 
                    
                    <div class="form-group">
                        <label for="email">E-mail:</label>
                        <input type="email" id="email" name="email_contato" required>
                    </div>

                    <div class="form-group">
                        <label for="cep">CEP:</label>
                        <input type="text" id="cep" name="cep" maxlength="9" required>
                    </div>

                    <div class="form-group">
                        <label for="cidade">Cidade:</label>
                        <input type="text" id="cidade" name="cidade" required>
                    </div>

                    <div class="form-group">
                        <label for="estado">Estado:</label>
                        <input type="text" id="estado" name="estado" required>
                    </div>

                    <button type="submit">Enviar Mensagem</button>
                </fieldset>
        </form>
    </div>
    </main>
 
    <!-- ðŸš¨ CÃ“DIGO JAVASCRIPT PARA MÃSCARAS -->
    <script>
        // FunÃ§Ã£o universal de mÃ¡scara
        const mask = (input, maskPattern) => {
            const onlyDigits = input.value.replace(/\D/g, '');
            let maskedValue = '';
            let digitIndex = 0;

            for (let i = 0; i < maskPattern.length; i++) {
                const char = maskPattern[i];
                
                if (digitIndex >= onlyDigits.length) {
                    break;
                }

                if (char === '9') {
                    maskedValue += onlyDigits[digitIndex];
                    digitIndex++;
                } else if (char === 'A') { // MÃ¡scara de Telefone com 8 ou 9 dÃ­gitos
                     if (onlyDigits.length <= 10 && i === 5 && onlyDigits[3] === '9') {
                        // Se for 8 dÃ­gitos (sem o 9Âº) e a mÃ¡scara ainda nÃ£o chegou no 9Âº
                        maskedValue += onlyDigits[digitIndex];
                        digitIndex++;
                    } else if (onlyDigits.length > 10 && i === 5 && onlyDigits[3] === '9') {
                        maskedValue += onlyDigits[digitIndex];
                        digitIndex++;
                    } else {
                        // Trata o telefone de 8 ou 9 dÃ­gitos no meio (depois do prefixo)
                        maskedValue += onlyDigits[digitIndex];
                        digitIndex++;
                    }
                } else {
                    maskedValue += char;
                }
            }
            
            // Corrige o Telefone para aceitar tanto 8 quanto 9 dÃ­gitos no corpo
            if (input.id === 'tel' && onlyDigits.length > 10) {
                 // (DD) 9XXXX-XXXX
                 input.value = `(${onlyDigits.slice(0, 2)}) ${onlyDigits.slice(2, 3)}${onlyDigits.slice(3, 7)}-${onlyDigits.slice(7, 11)}`;
            } else if (input.id === 'tel' && onlyDigits.length > 2 && onlyDigits.length <= 10) {
                 // (DD) XXXX-XXXX
                 input.value = `(${onlyDigits.slice(0, 2)}) ${onlyDigits.slice(2, 6)}-${onlyDigits.slice(6, 10)}`;
            } else if (input.id === 'tel' && onlyDigits.length <= 2) {
                 // (DD)
                 input.value = onlyDigits.length === 2 ? `(${onlyDigits})` : onlyDigits;
            } else {
                 input.value = maskedValue;
            }
        };

        const cpfMask = (input) => {
            let onlyDigits = input.value.replace(/\D/g, '');
            if (onlyDigits.length > 11) onlyDigits = onlyDigits.slice(0, 11);
            
            // 999.999.999-99
            input.value = onlyDigits.replace(/(\d{3})(\d)/, '$1.$2')
                                    .replace(/(\d{3})(\d)/, '$1.$2')
                                    .replace(/(\d{3})(\d{1,2})$/, '$1-$2');
        };
        
        const cepMask = (input) => {
            let onlyDigits = input.value.replace(/\D/g, '');
            if (onlyDigits.length > 8) onlyDigits = onlyDigits.slice(0, 8);
            
            // 99999-999
            input.value = onlyDigits.replace(/^(\d{5})(\d)/, '$1-$2');
        };

        const dateMask = (input) => {
            let onlyDigits = input.value.replace(/\D/g, '');
            if (onlyDigits.length > 8) onlyDigits = onlyDigits.slice(0, 8);
            
            // DD/MM/AAAA
            input.value = onlyDigits.replace(/(\d{2})(\d)/, '$1/$2')
                                    .replace(/(\d{2})(\d)/, '$1/$2');
        };

        // Aplica as mÃ¡scaras nos inputs
        document.addEventListener('DOMContentLoaded', () => {
            const cpfInput = document.getElementById('cpf');
            const telInput = document.getElementById('tel');
            const cepInput = document.getElementById('cep');
            const dateInput = document.getElementById('data');

            // CPF (usa a funÃ§Ã£o CPF especÃ­fica)
            if (cpfInput) {
                cpfInput.addEventListener('input', () => cpfMask(cpfInput));
            }

            // TELEFONE (usa a funÃ§Ã£o TEL especÃ­fica)
            if (telInput) {
                // A mÃ¡scara do telefone Ã© mais complexa e Ã© tratada diretamente na funÃ§Ã£o telMask acima
                telInput.addEventListener('input', () => {
                    let onlyDigits = telInput.value.replace(/\D/g, '');
                    // Limita a 11 dÃ­gitos para DDD + 9Âº dÃ­gito + 8 dÃ­gitos
                    if (onlyDigits.length > 11) onlyDigits = onlyDigits.slice(0, 11); 

                    if (onlyDigits.length >= 10) { // Com DDD + 8 ou 9 dÃ­gitos
                         // (DD) 9XXXX-XXXX ou (DD) XXXX-XXXX
                        if (onlyDigits.length === 11) {
                            telInput.value = `(${onlyDigits.slice(0, 2)}) ${onlyDigits.slice(2, 7)}-${onlyDigits.slice(7, 11)}`;
                        } else {
                            telInput.value = `(${onlyDigits.slice(0, 2)}) ${onlyDigits.slice(2, 6)}-${onlyDigits.slice(6, 10)}`;
                        }
                    } else if (onlyDigits.length > 2) {
                        telInput.value = `(${onlyDigits.slice(0, 2)}) ${onlyDigits.slice(2)}`;
                    } else if (onlyDigits.length > 0) {
                        telInput.value = onlyDigits;
                    } else {
                        telInput.value = '';
                    }
                });
            }

            // CEP (usa a funÃ§Ã£o CEP especÃ­fica)
            if (cepInput) {
                cepInput.addEventListener('input', () => cepMask(cepInput));
            }
            
            // DATA (usa a funÃ§Ã£o DATA especÃ­fica)
            if (dateInput) {
                dateInput.addEventListener('input', () => dateMask(dateInput));
            }
        });
    </script>

</body>
</html>